{% extends 'base.html' %}
{% load static %}
{% block content %}


	<div class="limiter">

	<div class="container-login100" style="background-image: url({% static 'images/bg-01.jpg' %})">
		<div class="wrap-login100 p-l-55 p-r-55 p-t-65 p-b-54">
  <div class="row h-100 justify-content-center align-items-center">


          <div class="text-center">

                          <h3><i class="fa fa-lock fa-4x"></i></h3>
                          <h2 class="text-center">Forgot Password?</h2>
                          <p>You can reset your password here.</p>
      </div>
  <div class="card-body">


                                <fieldset>
                                  <div class="form-group">
                                    <div class="input-group">
                                      <span class="input-group-addon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">
  <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2zm13 2.383-4.758 2.855L15 11.114v-5.73zm-.034 6.878L9.271 8.82 8 9.583 6.728 8.82l-5.694 3.44A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.739zM1 11.114l4.758-2.876L1 5.383v5.73z"/>
</svg></span>

                                      <input id="emailInput" placeholder="email address" class="form-control" type="email" oninvalid="setCustomValidity('Please enter a valid email address!')" onchange="try{setCustomValidity('')}catch(e){}" required="">
                                    </div>
                                  </div>
	<div class="container-login100-form-btn">

					<div class="wrap-login100-form-btn">
						<div class="login100-form-bgbtn"></div>
					   <button class="login100-form-btn"  id="sendemail" type="submit">Send My Password</button>
					</div>

				</div>



                                </fieldset>


  </div>

</div>
</div></div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>

<script>
 $(document).on('click', '#sendemail' , function(event){

var emailInput = $("#emailInput").val();
console.log(emailInput);
$.ajax({

                type :"POST",
                url:"{% url 'resetpasswordsendemail' %}",
                data : {
                  'emailInput':emailInput,
                  'csrfmiddlewaretoken': '{{ csrf_token }}',
                },
                success :function(response){
                $("#emailInput").val("");
Snackbar.show({text: 'Email was sent, check your inbox, or spam.'});
                },
                error: function(rs, e){
                   console.log("oops error!");
                  },


         });
});
</script>

{% endblock %}
